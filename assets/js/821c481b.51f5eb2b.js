"use strict";(globalThis.webpackChunkweb_apuntes=globalThis.webpackChunkweb_apuntes||[]).push([[104],{1470:(e,n,r)=>{r.d(n,{A:()=>S});var a=r(6540),s=r(4164),c=r(7559),i=r(3104),l=r(6347),t=r(205),o=r(7485),d=r(1682),u=r(679);function h(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:r}=e;return(0,a.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:r,default:a}})=>({value:e,label:n,attributes:r,default:a}))}(r);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,r])}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}function x({queryString:e=!1,groupId:n}){const r=(0,l.W6)(),s=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,o.aZ)(s),(0,a.useCallback)(e=>{if(!s)return;const n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})},[s,r])]}function f(e){const{defaultValue:n,queryString:r=!1,groupId:s}=e,c=p(e),[i,l]=(0,a.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=n.find(e=>e.default)??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:c})),[o,d]=x({queryString:r,groupId:s}),[h,f]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,s]=(0,u.Dv)(n);return[r,(0,a.useCallback)(e=>{n&&s.set(e)},[n,s])]}({groupId:s}),j=(()=>{const e=o??h;return m({value:e,tabValues:c})?e:null})();(0,t.A)(()=>{j&&l(j)},[j]);return{selectedValue:i,selectValue:(0,a.useCallback)(e=>{if(!m({value:e,tabValues:c}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),f(e)},[d,f,c]),tabValues:c}}var j=r(2303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=r(4848);function v({className:e,block:n,selectedValue:r,selectValue:a,tabValues:c}){const l=[],{blockElementScrollPositionUntilNextRender:t}=(0,i.a_)(),o=e=>{const n=e.currentTarget,s=l.indexOf(n),i=c[s].value;i!==r&&(t(n),a(i))},d=e=>{let n=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;n=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;n=l[r]??l[l.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},e),children:c.map(({value:e,label:n,attributes:a})=>(0,g.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:o,...a,className:(0,s.A)("tabs__item",b.tabItem,a?.className,{"tabs__item--active":r===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:r}){const c=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=c.find(e=>e.props.value===r);return e?(0,a.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:c.map((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==r}))})}function A(e){const n=f(e);return(0,g.jsxs)("div",{className:(0,s.A)(c.G.tabs.container,"tabs-container",b.tabList),children:[(0,g.jsx)(v,{...n,...e}),(0,g.jsx)(y,{...n,...e})]})}function S(e){const n=(0,j.A)();return(0,g.jsx)(A,{...e,children:h(e.children)},String(n))}},5633:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"lenguaje-c/char_arrays","title":"Array de Char\'s","description":"Apuntes sobre los arrays de caracteres en C","source":"@site/docs/06_lenguaje-c/char_arrays.mdx","sourceDirName":"06_lenguaje-c","slug":"/lenguaje-c/char_arrays","permalink":"/docs/lenguaje-c/char_arrays","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"C","permalink":"/docs/tags/c"},{"inline":true,"label":"C++","permalink":"/docs/tags/c"}],"version":"current","lastUpdatedAt":1767463877000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Array de Char\'s","description":"Apuntes sobre los arrays de caracteres en C","tags":["C","C++"]},"sidebar":"tutorialSidebar","previous":{"title":"NameSpace","permalink":"/docs/lenguaje-c/namespaces"},"next":{"title":"Introducci\xf3n","permalink":"/docs/python/introduccion"}}');var s=r(4848),c=r(8453),i=r(1470),l=r(9365);const t={sidebar_position:2,title:"Array de Char's",description:"Apuntes sobre los arrays de caracteres en C",tags:["C","C++"]},o="Arrays de Char's",d={},u=[{value:"Definici\xf3n",id:"definici\xf3n",level:2},{value:"Funciones T\xedpicas",id:"funciones-t\xedpicas",level:2},{value:"snprintf()",id:"snprintf",level:3},{value:"strcmp y strncmp",id:"strcmp-y-strncmp",level:3},{value:"Uso en Funciones",id:"uso-en-funciones",level:2},{value:"Strings en FLASH",id:"strings-en-flash",level:2}];function h(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:["\n",(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"arrays-de-chars",children:"Arrays de Char's"})}),"\n","\n",(0,s.jsx)(n.h2,{id:"definici\xf3n",children:"Definici\xf3n"}),"\n",(0,s.jsx)(n.p,{children:"Un array de char's es una secuencia contigua de caracteres almacenados en memoria. En C, los arrays de char's se utilizan com\xfanmente para manejar cadenas de texto.\r\nSu definici\xf3n b\xe1sica es la siguiente:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"char nombre[10];        // Vector con 10 posiciones\r\nchar saludo[] = \"Hola\"; // Vector con 5 posiciones ('H', 'o', 'l', 'a', '\\0')\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Algunas ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"reglas de oro"})})," al trabajar con arrays de char's en C:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Nunca escribir fuera del tama\xf1o del array."}),"\n",(0,s.jsxs)(n.li,{children:["Siempre dejar lugar para el ",(0,s.jsx)(n.code,{children:"'\\0'"})," al definir cadenas."]}),"\n",(0,s.jsx)(n.li,{children:"Nunca asumir que el array est\xe1 vacio."}),"\n"]}),"\n",(0,s.jsx)("hr",{style:{marginTop:"40px"}}),"\n","\n",(0,s.jsx)(n.h2,{id:"funciones-t\xedpicas",children:"Funciones T\xedpicas"}),"\n",(0,s.jsx)(n.h3,{id:"snprintf",children:"snprintf()"}),"\n",(0,s.jsxs)(n.p,{children:["La funci\xf3n ",(0,s.jsx)(n.code,{children:"snprintf()"})," se utiliza para formatear cadenas de texto y almacenarlas en un array de char's. Su sintaxis es la siguiente:"]}),"\n",(0,s.jsxs)(i.A,{children:[(0,s.jsxs)(l.A,{value:"Definici\xf3n",label:"Definici\xf3n",default:!0,children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"int snprintf(char* buf, size_t size, const char* fmt, ...);\n"})}),(0,s.jsx)(n.p,{children:"Donde aqu\xed se tienen los par\xe1metros:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"buf"}),": Puntero al array de char's donde se almacenar\xe1 la cadena formateada."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"size"}),": Tama\xf1o m\xe1ximo del buffer. Se puede usar ",(0,s.jsx)(n.code,{children:"sizeof(buf)"})," para obtener el tama\xf1o del array."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fmt"}),": Cadena de formato que especifica c\xf3mo se deben formatear los datos. Algunos de estos son:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"%d"}),": Entero decimal."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"%s"}),": Cadena de caracteres."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"%c"}),": Car\xe1cter."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"%f"}),": N\xfamero de punto flotante."]}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsxs)(n.p,{children:["Un detalle importante es que la funcion ",(0,s.jsx)(n.code,{children:"snprintf()"})," retorna el n\xfamero de caracteres que ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"hubieran sido escritos"})})," si el buffer hubiera sido lo suficientemente grande, excluyendo el car\xe1cter nulo final. Si el valor retornado es mayor o igual al tama\xf1o del buffer, significa que la cadena fue truncada."]})]}),(0,s.jsxs)(l.A,{value:"Ejemplo",label:"Ejemplo",default:!0,children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'int edad = 25;\r\nchar buffer[50];\r\nsnprintf(buffer, sizeof(buffer), "Tengo %d a\xf1os", edad);\n'})}),(0,s.jsxs)(n.p,{children:["El array ",(0,s.jsx)(n.code,{children:"buffer"})," contendr\xe1 la cadena ",(0,s.jsx)(n.code,{children:'"Tengo 25 a\xf1os"'}),"."]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"strcmp-y-strncmp",children:"strcmp y strncmp"}),"\n",(0,s.jsx)(n.p,{children:"Estas funciones se utilizan para comparar dos arrays de char's (cadenas de texto)."}),"\n",(0,s.jsxs)(i.A,{children:[(0,s.jsxs)(l.A,{value:"Definiciones",label:"Definiciones",default:!0,children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"int x = strcmp(const char* str1, const char* str2);\r\nint x = strncmp(const char* str1, const char* str2, size_t n);\n"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"strcmp()"}),": Compara dos cadenas completas."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"strncmp()"}),": Compara hasta ",(0,s.jsx)(n.code,{children:"n"})," caracteres de dos cadenas."]}),"\n"]}),(0,s.jsx)(n.p,{children:"Ambas funciones retornan:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"x"})," < 0: Si ",(0,s.jsx)(n.code,{children:"str1"})," es menor que ",(0,s.jsx)(n.code,{children:"str2"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"x"})," = 0: Si ",(0,s.jsx)(n.code,{children:"str1"})," es igual a ",(0,s.jsx)(n.code,{children:"str2"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"x"})," > 0: Si ",(0,s.jsx)(n.code,{children:"str1"})," es mayor que ",(0,s.jsx)(n.code,{children:"str2"}),"."]}),"\n"]}),(0,s.jsx)(n.p,{children:"En la pr\xe1ctica, solo interesa si el resultado es cero!"})]}),(0,s.jsxs)(l.A,{value:"Ejemplo",label:"Ejemplo",default:!0,children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",metastring:'title="strcmp()"',children:'char cmd[] = "ON";\r\nif (strcmp(cmd, "ON") == 0) {\r\n    // comando ON (Se ejecuta)\r\n}\r\nif (strcmp(cmd, "OFF") == 0) {\r\n    // comando OFF (No se ejecuta)\r\n}\n'})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",metastring:'title="strncmp()"',children:'char cmd[] = "#01$SET TEMP 25&";\r\nif (strncmp(cmd, "#01$", 4) == 0) {\r\n    // comando detectado (Se ejecuta)\r\n}\n'})})]})]}),"\n",(0,s.jsx)("hr",{style:{marginTop:"40px"}}),"\n","\n",(0,s.jsx)(n.h2,{id:"uso-en-funciones",children:"Uso en Funciones"}),"\n",(0,s.jsx)(n.p,{children:"Para que una funcion pueda recibir un array de char's como par\xe1metro, se debe definir el par\xe1metro como un puntero a char. Por ejemplo:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void procesarComando(const char* comando) {\r\n    // Procesar el comando recibido\r\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Esto significa que la funci\xf3n ",(0,s.jsx)(n.code,{children:"procesarComando"})," puede recibir:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Un array de char's definido previamente (",(0,s.jsx)(n.code,{children:'char cmd[] = "ON";'}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["Una cadena literal (",(0,s.jsx)(n.code,{children:'"OFF"'}),")."]}),"\n"]}),"\n",(0,s.jsx)("hr",{style:{marginTop:"40px"}}),"\n","\n",(0,s.jsx)(n.h2,{id:"strings-en-flash",children:"Strings en FLASH"}),"\n",(0,s.jsxs)(n.p,{children:["En sistemas embebidos con memoria limitada, como Arduino, es com\xfan almacenar cadenas de texto en la memoria FLASH para ahorrar RAM. En C, esto se puede lograr utilizando la macro ",(0,s.jsx)(n.code,{children:"F()"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'Serial.println("Hola mundo");    // Esto se copia en RAM al iniciar el programa\r\nSerial.println(F("Hola mundo")); // Esto se mantiene en FLASH\n'})}),"\n",(0,s.jsxs)(n.p,{children:["El problema es que ",(0,s.jsx)(n.code,{children:"F()"})," devuelve un tipo especial (",(0,s.jsx)(n.code,{children:"__FlashStringHelper*"}),"), por lo que las funciones que reciben cadenas deben estar preparadas para manejar este tipo. Por ejemplo, ",(0,s.jsx)(n.code,{children:"Serial.println()"})," est\xe1 sobrecargada para aceptar tanto ",(0,s.jsx)(n.code,{children:"const char*"})," como ",(0,s.jsx)(n.code,{children:"__FlashStringHelper*"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Para funciones personalizadas, se puede definir una sobrecarga adicional:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void procesarComando(const __FlashStringHelper* comando) {\r\n    // Procesar el comando almacenado en FLASH\r\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Es importante tener en cuenta que las funciones como ",(0,s.jsx)(n.code,{children:"strcmp()"})," no pueden utilizarse directamente con cadenas almacenadas en FLASH. En su lugar, se deben copiar primero a un array de char's en RAM antes de compararlas."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:(0,s.jsxs)(n.strong,{children:["En la pr\xe1ctica, esto no se hace y se utiliza ",(0,s.jsx)(n.code,{children:"F()"})," solo para imprimir cadenas largas en la consola o en pantallas."]})})})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>l});var a=r(6540);const s={},c=a.createContext(s);function i(e){const n=a.useContext(c);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(c.Provider,{value:n},e.children)}},9365:(e,n,r)=>{r.d(n,{A:()=>i});r(6540);var a=r(4164);const s={tabItem:"tabItem_Ymn6"};var c=r(4848);function i({children:e,hidden:n,className:r}){return(0,c.jsx)("div",{role:"tabpanel",className:(0,a.A)(s.tabItem,r),hidden:n,children:e})}}}]);