"use strict";(globalThis.webpackChunkweb_apuntes=globalThis.webpackChunkweb_apuntes||[]).push([[256],{1470:(e,r,n)=>{n.d(r,{A:()=>L});var a=n(6540),o=n(4164),s=n(7559),i=n(3104),t=n(6347),l=n(205),c=n(7485),d=n(1682),u=n(679);function h(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:r,children:n}=e;return(0,a.useMemo)(()=>{const e=r??function(e){return h(e).map(({props:{value:e,label:r,attributes:n,default:a}})=>({value:e,label:r,attributes:n,default:a}))}(n);return function(e){const r=(0,d.XI)(e,(e,r)=>e.value===r.value);if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[r,n])}function m({value:e,tabValues:r}){return r.some(r=>r.value===e)}function b({queryString:e=!1,groupId:r}){const n=(0,t.W6)(),o=function({queryString:e=!1,groupId:r}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:e,groupId:r});return[(0,c.aZ)(o),(0,a.useCallback)(e=>{if(!o)return;const r=new URLSearchParams(n.location.search);r.set(o,e),n.replace({...n.location,search:r.toString()})},[o,n])]}function A(e){const{defaultValue:r,queryString:n=!1,groupId:o}=e,s=p(e),[i,t]=(0,a.useState)(()=>function({defaultValue:e,tabValues:r}){if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${r.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=r.find(e=>e.default)??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:r,tabValues:s})),[c,d]=b({queryString:n,groupId:o}),[h,A]=function({groupId:e}){const r=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,o]=(0,u.Dv)(r);return[n,(0,a.useCallback)(e=>{r&&o.set(e)},[r,o])]}({groupId:o}),j=(()=>{const e=c??h;return m({value:e,tabValues:s})?e:null})();(0,l.A)(()=>{j&&t(j)},[j]);return{selectedValue:i,selectValue:(0,a.useCallback)(e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);t(e),d(e),A(e)},[d,A,s]),tabValues:s}}var j=n(2303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=n(4848);function v({className:e,block:r,selectedValue:n,selectValue:a,tabValues:s}){const t=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),c=e=>{const r=e.currentTarget,o=t.indexOf(r),i=s[o].value;i!==n&&(l(r),a(i))},d=e=>{let r=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=t.indexOf(e.currentTarget)+1;r=t[n]??t[0];break}case"ArrowLeft":{const n=t.indexOf(e.currentTarget)-1;r=t[n]??t[t.length-1];break}}r?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":r},e),children:s.map(({value:e,label:r,attributes:a})=>(0,x.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{t.push(e)},onKeyDown:d,onClick:c,...a,className:(0,o.A)("tabs__item",f.tabItem,a?.className,{"tabs__item--active":n===e}),children:r??e},e))})}function g({lazy:e,children:r,selectedValue:n}){const s=(Array.isArray(r)?r:[r]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===n);return e?(0,a.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:s.map((e,r)=>(0,a.cloneElement)(e,{key:r,hidden:e.props.value!==n}))})}function E(e){const r=A(e);return(0,x.jsxs)("div",{className:(0,o.A)(s.G.tabs.container,"tabs-container",f.tabList),children:[(0,x.jsx)(v,{...r,...e}),(0,x.jsx)(g,{...r,...e})]})}function L(e){const r=(0,j.A)();return(0,x.jsx)(E,{...e,children:h(e.children)},String(r))}},7758:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"python/threads","title":"Threads","description":"Paquete threads de Python para manejo de hilos.","source":"@site/docs/07_python/threads.mdx","sourceDirName":"07_python","slug":"/python/threads","permalink":"/docs/python/threads","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Python","permalink":"/docs/tags/python"},{"inline":true,"label":"Threads","permalink":"/docs/tags/threads"}],"version":"current","lastUpdatedAt":1767580864000,"sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Threads","description":"Paquete threads de Python para manejo de hilos.","tags":["Python","Threads"]},"sidebar":"tutorialSidebar","previous":{"title":"PySerial","permalink":"/docs/python/pyserial"}}');var o=n(4848),s=n(8453),i=n(1470),t=n(9365);const l={sidebar_position:6,title:"Threads",description:"Paquete threads de Python para manejo de hilos.",tags:["Python","Threads"]},c="Threads",d={},u=[{value:"Introducci\xf3n",id:"introducci\xf3n",level:2},{value:"Funciones T\xedpicas",id:"funciones-t\xedpicas",level:2},{value:"Locks y RLocks",id:"locks-y-rlocks",level:2},{value:"Semaforos",id:"semaforos",level:2}];function h(e){const r={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"threads",children:"Threads"})}),"\n","\n",(0,o.jsx)(r.h2,{id:"introducci\xf3n",children:"Introducci\xf3n"}),"\n",(0,o.jsxs)(r.p,{children:["El m\xf3dulo ",(0,o.jsx)(r.code,{children:"threading"})," en Python proporciona una forma de crear y manejar hilos (threads) en un programa. Los hilos permiten la ejecuci\xf3n concurrente de m\xfaltiples tareas dentro de un mismo proceso, lo que puede mejorar el rendimiento en aplicaciones que realizan operaciones de E/S o tareas que pueden ejecutarse en paralelo."]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'import threading\r\nimport time\r\n\r\ndef tarea(nombre, operaciones, retraso):\r\n    print(f"[{nombre}] Iniciando {operaciones} operaciones r\xe1pidas...")\r\n    for i in range(operaciones):\r\n        time.sleep(retraso)\r\n        print(f"[{nombre}] Operaci\xf3n {i+1}/{operaciones}")\r\n    print(f"[{nombre}] \u2713 COMPLETADO")\r\n\r\ndef main():\r\n    print("=" * 50 + "\\nINICIANDO 2 THREADS EN PARALELO\\n" + "=" * 50)\r\n\r\n    thread1 = threading.Thread(target=tarea, args=("TAREA-LENTA", 5, 1))\r\n    thread2 = threading.Thread(target=tarea, args=("TAREA-RAPIDA", 10, 0.3))\r\n\r\n    thread1.start()\r\n    thread2.start()\r\n\r\n    print("\\n" + "=" * 50 + "\\nPROCESO PRINCIPAL\\n" + "=" * 50)\r\n    for i in range(4):\r\n        time.sleep(1.2)\r\n        print(f"[MAIN] Proceso principal trabajando... {i+1}/4")\r\n    \r\n    # Esperar a que terminen los threads no-daemon\r\n    thread1.join()\r\n    thread2.join()\r\n    \r\n    print("\\n" + "=" * 50)\r\n\r\nif __name__ == "__main__":\r\n    main()\n'})}),"\n",(0,o.jsxs)(n,{children:[(0,o.jsx)("summary",{children:"Salida por consola"}),(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"==================================================\r\nINICIANDO 2 THREADS EN PARALELO\r\n==================================================\r\n[TAREA-LENTA] Iniciando 5 operaciones r\xe1pidas...\r\n[TAREA-RAPIDA] Iniciando 10 operaciones r\xe1pidas...\r\n\r\n==================================================\r\nPROCESO PRINCIPAL\r\n==================================================\r\n[TAREA-RAPIDA] Operaci\xf3n 1/10\r\n[TAREA-RAPIDA] Operaci\xf3n 2/10\r\n[TAREA-RAPIDA] Operaci\xf3n 3/10\r\n[TAREA-LENTA] Operaci\xf3n 1/5\r\n[MAIN] Proceso principal trabajando... 1/4\r\n[TAREA-RAPIDA] Operaci\xf3n 4/10\r\n[TAREA-RAPIDA] Operaci\xf3n 5/10\r\n[TAREA-RAPIDA] Operaci\xf3n 6/10\r\n[TAREA-LENTA] Operaci\xf3n 2/5\r\n[TAREA-RAPIDA] Operaci\xf3n 7/10\r\n[MAIN] Proceso principal trabajando... 2/4\r\n[TAREA-RAPIDA] Operaci\xf3n 8/10\r\n[TAREA-RAPIDA] Operaci\xf3n 9/10\r\n[TAREA-LENTA] Operaci\xf3n 3/5\r\n[TAREA-RAPIDA] Operaci\xf3n 10/10\r\n[TAREA-RAPIDA] \u2713 COMPLETADO\r\n[MAIN] Proceso principal trabajando... 3/4\r\n[TAREA-LENTA] Operaci\xf3n 4/5\r\n[MAIN] Proceso principal trabajando... 4/4\r\n[TAREA-LENTA] Operaci\xf3n 5/5\r\n[TAREA-LENTA] \u2713 COMPLETADO\r\n\r\n==================================================\n"})})]}),"\n",(0,o.jsxs)(r.p,{children:["En este ejemplo se puede ver que se crean dos hilos que ejecutan la funci\xf3n ",(0,o.jsx)(r.code,{children:"tarea"})," con diferentes par\xe1metros. Mientras los hilos est\xe1n en ejecuci\xf3n, el proceso principal contin\xfaa trabajando de manera independiente. Al final, se espera a que ambos hilos terminen antes de finalizar el programa."]}),"\n",(0,o.jsx)("br",{}),"\n","\n",(0,o.jsx)(r.h2,{id:"funciones-t\xedpicas",children:"Funciones T\xedpicas"}),"\n",(0,o.jsx)(r.p,{children:"Para la creaci\xf3n de un hilo se utiliza la siguiente instrucci\xf3n:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:"import threading\r\n\r\nt = threading.Thread(target=funcion, args=(arg1, arg2), kwargs={'key': valor})\n"})}),"\n",(0,o.jsxs)(i.A,{children:[(0,o.jsx)(t.A,{value:"clase",label:"Clase Fundamental",default:!0,children:(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"t.start()"}),": Inicia la ejecuci\xf3n del thread"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"t.join(timeout=5)"}),": Espera a que termine (opcional timeout)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"t.is_alive()"}),": Devuelve True si el thread a\xfan est\xe1 ejecut\xe1ndose"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"t.getName()"}),": Obtiene el nombre del thread (obsoleto en Python 3)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"t.name"}),": Obtiene o establece el nombre (atributo)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:'t.setName("nuevo")'}),": Establece el nombre (obsoleto)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"t.ident"}),": ID \xfanico del thread (None si no iniciado)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"t.native_id"}),": ID del thread en el sistema operativo (Python 3.8+)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"t.daemon"}),": Atributo booleano (True = thread daemon)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"t.isDaemon()"}),": \xbfEs daemon? (obsoleto)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"t.setDaemon(True)"}),": Establecer como daemon (obsoleto)"]}),"\n"]})}),(0,o.jsx)(t.A,{value:"modulo",label:"Funciones del M\xf3dulo",default:!0,children:(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"threading.active_count()"}),": N\xfamero de threads activos"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"threading.current_thread()"}),": Devuelve el objeto Thread actual"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"threading.main_thread()"}),": Devuelve el thread principal"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"threading.enumerate()"}),": Lista de todos los objetos Thread activos"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"threading.get_ident()"}),": ID del thread actual (entero)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"threading.get_native_id()"}),": ID nativo del thread actual (Python 3.8+)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"threading.settrace(func)"}),": Establece funci\xf3n trace para todos los threads"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"threading.setprofile(func)"}),": Establece funci\xf3n profile para todos los threads"]}),"\n"]})})]}),"\n",(0,o.jsx)("br",{}),"\n","\n",(0,o.jsx)(r.h2,{id:"locks-y-rlocks",children:"Locks y RLocks"}),"\n",(0,o.jsxs)(r.p,{children:["Los locks (bloqueos) son mecanismos de sincronizaci\xf3n que se utilizan para evitar condiciones de carrera cuando m\xfaltiples hilos acceden a recursos compartidos. Un ",(0,o.jsx)(r.code,{children:"Lock"})," permite que solo un hilo acceda a un recurso a la vez, mientras que un ",(0,o.jsx)(r.code,{children:"RLock"})," (reentrant lock) permite que el mismo hilo adquiera el bloqueo m\xfaltiples veces sin causar un bloqueo."]}),"\n",(0,o.jsxs)(n,{children:[(0,o.jsx)("summary",{children:"Ejemplo con Lock"}),(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'import threading\r\nimport time\r\n\r\n# Creamos un Lock (llave \xfanica del ba\xf1o)\r\nlock_banio = threading.Lock()\r\n\r\ndef usar_banio(persona):\r\n    """Intenta usar el ba\xf1o con Lock"""\r\n    print(f"[{persona}] Se acerca al ba\xf1o...")\r\n    \r\n    # INTENTA agarrar la llave\r\n    conseguido = lock_banio.acquire(blocking=False)\r\n    \r\n    if conseguido: # No estaba ocupado, entonces usa el ba\xf1o\r\n        print(f"  \u2705 [{persona}] AGARR\xd3 LA LLAVE")\r\n        time.sleep(2)\r\n        print(f"  \u274c [{persona}] DEVOLVI\xd3 LA LLAVE")\r\n        lock_banio.release()\r\n    else:\r\n        print(f"  \ud83d\udeab [{persona}] Ba\xf1o OCUPADO, se va")\r\n        time.sleep(0.5)\r\n        usar_banio(persona)  # <-- INTENTA NUEVAMENTE. OJO: Recursividad!\r\n\r\n# Ejecutar\r\nprint("\ud83d\udd12 EJEMPLO LOCK - BA\xd1O P\xdaBLICO\\n" + "-" * 40)\r\n\r\npersonas = ["Ana", "Carlos", "Beatriz"]\r\nthreads = []\r\n\r\nfor persona in personas:\r\n    t = threading.Thread(target=usar_banio, args=(persona,))\r\n    threads.append(t)\r\n    t.start()\r\n    time.sleep(0.3)  # Llegan con diferencia\r\n\r\nfor t in threads:  # Espera a que terminen todos\r\n    t.join()\n'})}),(0,o.jsx)(r.p,{children:"Esto, simula un ba\xf1o p\xfablico donde solo una persona puede usar el ba\xf1o a la vez. Si alguien intenta usar el ba\xf1o mientras est\xe1 ocupado, esperar\xe1 y lo intentar\xe1 de nuevo.\r\nLa salida por consola podr\xeda ser algo as\xed:"}),(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"\ud83d\udd12 EJEMPLO LOCK - BA\xd1O P\xdaBLICO\r\n----------------------------------------\r\n[Ana] Se acerca al ba\xf1o...\r\n  \u2705 [Ana] AGARR\xd3 LA LLAVE\r\n[Carlos] Se acerca al ba\xf1o...\r\n  \ud83d\udeab [Carlos] Ba\xf1o OCUPADO, se va\r\n[Beatriz] Se acerca al ba\xf1o...\r\n  \ud83d\udeab [Beatriz] Ba\xf1o OCUPADO, se va\r\n[Carlos] Se acerca al ba\xf1o...\r\n  \ud83d\udeab [Carlos] Ba\xf1o OCUPADO, se va\r\n[Beatriz] Se acerca al ba\xf1o...\r\n  \ud83d\udeab [Beatriz] Ba\xf1o OCUPADO, se va\r\n[Carlos] Se acerca al ba\xf1o...\r\n  \ud83d\udeab [Carlos] Ba\xf1o OCUPADO, se va\r\n[Beatriz] Se acerca al ba\xf1o...\r\n  \ud83d\udeab [Beatriz] Ba\xf1o OCUPADO, se va\r\n[Carlos] Se acerca al ba\xf1o...\r\n  \ud83d\udeab [Carlos] Ba\xf1o OCUPADO, se va\r\n  \u274c [Ana] DEVOLVI\xd3 LA LLAVE\r\n[Beatriz] Se acerca al ba\xf1o...\r\n  \u2705 [Beatriz] AGARR\xd3 LA LLAVE\r\n[Carlos] Se acerca al ba\xf1o...\r\n  \ud83d\udeab [Carlos] Ba\xf1o OCUPADO, se va\r\n[Carlos] Se acerca al ba\xf1o...\r\n  \ud83d\udeab [Carlos] Ba\xf1o OCUPADO, se va\r\n[Carlos] Se acerca al ba\xf1o...\r\n  \ud83d\udeab [Carlos] Ba\xf1o OCUPADO, se va\r\n[Carlos] Se acerca al ba\xf1o...\r\n  \ud83d\udeab [Carlos] Ba\xf1o OCUPADO, se va\r\n  \u274c [Beatriz] DEVOLVI\xd3 LA LLAVE\r\n[Carlos] Se acerca al ba\xf1o...\r\n  \u2705 [Carlos] AGARR\xd3 LA LLAVE\r\n  \u274c [Carlos] DEVOLVI\xd3 LA LLAVE\n"})}),(0,o.jsx)(r.p,{children:'Lo cual indica que solamente la persona que usa el ba\xf1o puede tener la "llave" (lock) en ese momento. Dejando a las demas personas esperando hasta que el ba\xf1o est\xe9 libre.'})]}),"\n",(0,o.jsxs)(n,{children:[(0,o.jsx)("summary",{children:"Ejemplo con RLock"}),(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"RLock"})," permite que el mismo hilo pueda adquirir el bloqueo m\xfaltiples veces sin causar un bloqueo. Esto es \xfatil en situaciones donde una funci\xf3n que adquiere un bloqueo llama a otra funci\xf3n que tambi\xe9n intenta adquirir el mismo bloqueo."]}),(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'import threading\r\nimport time\r\n\r\n# RLock: el mismo hilo puede entrar varias veces\r\narchivo_lock = threading.RLock()\r\n\r\ndef escribir_archivo():\r\n    print("  \u270d\ufe0f  Intentando escribir en el archivo...")\r\n    with archivo_lock:\r\n        print("  \u2705 Escribiendo...")\r\n        time.sleep(1)\r\n\r\ndef procesar_archivo():\r\n    print("\ud83d\udcc2 Intentando procesar archivo...")\r\n    with archivo_lock:\r\n        print("\ud83d\udcc2 Archivo abierto")\r\n        escribir_archivo()\r\n        print("\ud83d\udcc2 Archivo cerrado")\r\n\r\ndef trabajador(nombre):\r\n    print(f"[{nombre}] Inicia trabajo")\r\n    procesar_archivo()\r\n    print(f"[{nombre}] Termina trabajo\\n")\r\n\r\n# Ejecutar\r\nhilo = threading.Thread(target=trabajador, args=("Hilo-1",))\r\nhilo.start()\r\nhilo.join()\n'})}),(0,o.jsx)(r.p,{children:"En este ejemplo, se v\xe9 que:"}),(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:['El hilo "Hilo-1" inicia el trabajo y llama a ',(0,o.jsx)(r.code,{children:"procesar_archivo"}),"."]}),"\n",(0,o.jsxs)(r.li,{children:["Dentro de ",(0,o.jsx)(r.code,{children:"procesar_archivo"}),", se adquiere el ",(0,o.jsx)(r.code,{children:"RLock"})," y luego se llama a ",(0,o.jsx)(r.code,{children:"escribir_archivo"}),", que tambi\xe9n intenta adquirir el mismo ",(0,o.jsx)(r.code,{children:"RLock"}),"."]}),"\n",(0,o.jsxs)(r.li,{children:["Gracias a que es un ",(0,o.jsx)(r.code,{children:"RLock"}),", el mismo hilo puede adquirir el bloqueo nuevamente sin bloquearse a s\xed mismo."]}),"\n"]}),(0,o.jsx)(r.p,{children:"La salida por consola ser\xeda:"}),(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"[Hilo-1] Inicia trabajo\r\n\ud83d\udcc2 Intentando procesar archivo...\r\n\ud83d\udcc2 Archivo abierto\r\n  \u270d\ufe0f  Intentando escribir en el archivo...\r\n  \u2705 Escribiendo...\r\n\ud83d\udcc2 Archivo cerrado\r\n[Hilo-1] Termina trabajo\n"})})]}),"\n",(0,o.jsx)("br",{}),"\n","\n",(0,o.jsx)(r.h2,{id:"semaforos",children:"Semaforos"}),"\n",(0,o.jsx)(r.p,{children:"Un semaforo es un mecanismo de sincronizaci\xf3n que controla el acceso a un recurso compartido mediante el uso de contadores. A diferencia de los locks, que permiten el acceso exclusivo a un recurso, los sem\xe1foros permiten que m\xfaltiples hilos accedan a un recurso hasta un l\xedmite definido."}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"Permite que hasta N hilos entren a una secci\xf3n cr\xedtica"}),"\n",(0,o.jsx)(r.li,{children:"Cuando se acaban los permisos \u2192 los dem\xe1s esperan"}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'import threading\r\nimport time\r\n\r\n# 2 lugares disponibles\r\nestacionamiento = threading.Semaphore(2)\r\n\r\ndef auto(nombre):\r\n    print(f"\ud83d\ude97 {nombre} quiere entrar")\r\n    \r\n    with estacionamiento:\r\n        print(f"  \u2705 {nombre} estacion\xf3, espera 2 segundos...")\r\n        time.sleep(2)\r\n        print(f"  \ud83d\udeaa {nombre} sale")\r\n\r\nautos = ["Auto 1", "Auto 2", "Auto 3", "Auto 4"]\r\nhilos = []\r\n\r\nfor a in autos: # Crear y arrancar un hilo por cada auto\r\n    t = threading.Thread(target=auto, args=(a,))\r\n    hilos.append(t)\r\n    t.start()\r\n    time.sleep(0.3)\r\n\r\nfor t in hilos: # Esperar a que todos los hilos terminen\r\n    t.join()\n'})}),"\n",(0,o.jsx)(r.p,{children:"Esto simula un estacionamiento con solo 2 espacios disponibles. Los autos intentan entrar, y si hay espacio, pueden estacionarse; de lo contrario, esperan hasta que haya un espacio libre.\r\nLa salida por consola podr\xeda ser algo as\xed:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"\ud83d\ude97 Auto 1 quiere entrar\r\n  \u2705 Auto 1 estacion\xf3, espera 2 segundos...\r\n\ud83d\ude97 Auto 2 quiere entrar\r\n  \u2705 Auto 2 estacion\xf3, espera 2 segundos...\r\n\ud83d\ude97 Auto 3 quiere entrar\r\n\ud83d\ude97 Auto 4 quiere entrar\r\n  \ud83d\udeaa Auto 1 sale\r\n  \u2705 Auto 3 estacion\xf3, espera 2 segundos...\r\n  \ud83d\udeaa Auto 2 sale\r\n  \u2705 Auto 4 estacion\xf3, espera 2 segundos...\r\n  \ud83d\udeaa Auto 3 sale\r\n  \ud83d\udeaa Auto 4 sale\n"})})]})}function p(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>t});var a=n(6540);const o={},s=a.createContext(o);function i(e){const r=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),a.createElement(s.Provider,{value:r},e.children)}},9365:(e,r,n)=>{n.d(r,{A:()=>i});n(6540);var a=n(4164);const o={tabItem:"tabItem_Ymn6"};var s=n(4848);function i({children:e,hidden:r,className:n}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.A)(o.tabItem,n),hidden:r,children:e})}}}]);